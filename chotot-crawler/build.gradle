/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.1.1/samples
 */

apply plugin: 'java'
apply plugin: 'application'

ext{
    distOutputDir = "dist"
    mainApp = "chotot.crawler.ChototCrawler"
    distJar = "chotot-crawler.jar"
}

repositories {
    mavenLocal()
    mavenCentral()
}

sourceSets {
    config {
        java {
            srcDir 'conf'
        }
    }
    main {
        java {
            srcDir 'src'
        }
    }
    test {
        java {
            srcDir 'test'
        }
    }
}

dependencies {
    // https://mvnrepository.com/artifact/org.jsoup/jsoup
    implementation group: 'org.jsoup', name: 'jsoup', version: '1.14.1'
    // https://mvnrepository.com/artifact/org.codehaus.jackson/jackson-mapper-asl
    implementation group: 'org.codehaus.jackson', name: 'jackson-mapper-asl', version: '1.9.13'
    // https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple
    implementation group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'
    // https://mvnrepository.com/artifact/ro.nextreports/jofc2
    implementation group: 'ro.nextreports', name: 'jofc2', version: '1.0.1'
    // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3
    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.9'
    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core
    implementation group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.14.0'
    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api
    implementation group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.14.0'

    implementation group: 'org.apache.poi', name:'poi', version: '3.15'
    implementation group: 'org.apache.poi', name:'poi-ooxml', version: '3.15'

    testImplementation 'junit:junit:4.13'
}

//For clean task
clean {
    println ">> Clean old dist, old build"
    delete distOutputDir
    delete buildDir
}

// Setup jar info, copy dependencies, copy jar build
mainClassName = mainApp

// set env test
test {
    useJUnit()
    testLogging {
        showStandardStreams = true
    }
    maxHeapSize = '1G'
}